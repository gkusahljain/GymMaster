{% extends "base.html" %}
{% block content %}

<div class="hero">
  <div class="hero-content">
    <div class="hero-title">Add New Member</div>
    <div class="hero-subtitle">
      Enter accurate profile details to generate personalised AI workout and meal plans.
    </div>
  </div>
</div>

<div class="card p-4">
  <form method="post" class="row g-3 needs-validation" novalidate>

    <div class="col-md-6">
      <label class="form-label">Full Name</label>
      <input type="text"
             name="name"
             class="form-control"
             placeholder="Enter member name"
             value="{{ form.name }}"
             required>
      <div class="invalid-feedback">Please enter the member's name.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Gender</label>
      <select name="gender" class="form-control">
    <option value="male" {% if form.gender=="male" %}selected{% endif %}>Male</option>
    <option value="female" {% if form.gender=="female" %}selected{% endif %}>Female</option>
    <option value="other" {% if form.gender=="other" %}selected{% endif %}>Other</option>
</select>

      <div class="invalid-feedback">Please select gender.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Age</label>
      <input type="number"
             name="age"
             class="form-control"
             placeholder="e.g. 22"
             min="10"
             max="90"
             value="{{ form.age }}"
             required>
      <div class="invalid-feedback">Please enter age between 10 and 90.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Current Weight (kg)</label>
      <input type="number"
             name="current_weight_kg"
             class="form-control"
             placeholder="e.g. 58"
             step="0.1"
             min="20"
             max="300"
             value="{{ form.current_weight_kg }}"
             required>
      <div class="invalid-feedback">Please enter weight between 20 and 300 kg.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Height (cm)</label>
      <input type="number"
             name="height_cm"
             class="form-control"
             placeholder="e.g. 170"
             min="100"
             max="250"
             step="0.1"
             value="{{ form.height_cm }}"
             required>
      <div class="invalid-feedback">Please enter height between 100 and 250 cm.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Phone Number</label>
      <input type="tel"
             name="phone"
             class="form-control"
             placeholder="10-digit mobile (6–9...)"
             pattern="[6-9][0-9]{9}"
             value="{{ form.phone }}"
             required>
      <div class="invalid-feedback">
        Enter a valid 10-digit Indian mobile number starting with 6–9.
      </div>
    </div>

    <div class="col-md-6">
      <label class="form-label">Email</label>
      <input type="email"
             name="email"
             class="form-control"
             placeholder="Enter email address"
             value="{{ form.email }}"
             required>
      <div class="invalid-feedback">Please enter a valid email address.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Membership Plan</label>
      <select name="membership_plan" class="form-select" required>
        <option value="" disabled {% if not form.membership_plan %}selected{% endif %}>Select plan</option>
        <option value="Monthly"   {% if form.membership_plan == 'Monthly' %}selected{% endif %}>Monthly</option>
        <option value="Quarterly" {% if form.membership_plan == 'Quarterly' %}selected{% endif %}>Quarterly</option>
        <option value="Yearly"    {% if form.membership_plan == 'Yearly' %}selected{% endif %}>Yearly</option>
      </select>
      <div class="invalid-feedback">Please select a membership plan.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Fitness Goal</label>
      <select name="goal" class="form-select" required>
        <option value="" disabled {% if not form.goal %}selected{% endif %}>Select goal</option>
        <option value="weight_loss"    {% if form.goal == 'weight_loss' %}selected{% endif %}>Weight Loss</option>
        <option value="muscle_gain"    {% if form.goal == 'muscle_gain' %}selected{% endif %}>Muscle Gain</option>
        <option value="general_fitness"{% if form.goal == 'general_fitness' %}selected{% endif %}>General Fitness</option>
      </select>
      <div class="invalid-feedback">Please select a fitness goal.</div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Diet Preference</label>
      <select name="diet_preference" class="form-select" required>
        <option value="" disabled {% if not form.diet_preference %}selected{% endif %}>Select diet</option>
        <option value="veg"      {% if form.diet_preference == 'veg' %}selected{% endif %}>Vegetarian</option>
        <option value="non_veg"  {% if form.diet_preference == 'non_veg' %}selected{% endif %}>Non-Vegetarian</option>
        <option value="mixed"    {% if form.diet_preference == 'mixed' %}selected{% endif %}>Mixed</option>
      </select>
      <div class="invalid-feedback">Please select diet preference.</div>
    </div>

    <div class="col-12 d-flex justify-content-end mt-3">
      <a href="{{ url_for('members') }}" class="btn btn-secondary me-2">Cancel</a>
      <button class="btn btn-primary" type="submit">Save Member</button>
    </div>
  </form>
</div>

{% endblock %}
